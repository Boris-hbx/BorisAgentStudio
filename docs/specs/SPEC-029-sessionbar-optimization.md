# SPEC-029: SessionBar ä¼˜åŒ–

> ä½œè€…: Boris Huai
> èµ·è‰æ—¥æœŸ: 2026-01-27
> çŠ¶æ€: å·²å®Œæˆ

## æ¦‚è¿°

ä¼˜åŒ– SessionBar å¸ƒå±€å’Œäº¤äº’ï¼Œæå‡ä¿¡æ¯å±•ç¤ºæ•ˆç‡å’Œç”¨æˆ·ä½“éªŒã€‚

## é—®é¢˜é™ˆè¿°

åŸºäºç”¨æˆ·æˆªå›¾åé¦ˆï¼š

1. **Session åˆ—è¡¨æ’åºé—®é¢˜**ï¼šæœªæŒ‰æ—¶é—´æ’åºï¼Œä¸æ–¹ä¾¿æ‰¾åˆ°æœ€æ–° Session
2. **æ ‡é¢˜æ˜¾ç¤ºä¸å…¨**ï¼šSession æ ‡é¢˜è¢«æˆªæ–­ï¼Œä¿¡æ¯ä¸¢å¤±
3. **å¸ƒå±€ç©ºé—´åˆ©ç”¨ä¸ä½³**ï¼šå­—ä½“å¤ªå¤§ï¼Œä¿¡æ¯ä¸å¤Ÿç´§å‡‘
4. **å³ä¾§é¢æ¿é»˜è®¤å±•å¼€**ï¼šæµªè´¹ç©ºé—´

## ç›®æ ‡ (DoD)

1. Session åˆ—è¡¨æŒ‰æ—¶é—´å€’åºï¼Œæœ€æ–°åœ¨å‰
2. é»˜è®¤åŠ è½½æœ€æ–° Session
3. SessionBar é‡‡ç”¨ç´§å‡‘ä¸¤è¡Œå¸ƒå±€
4. ä¸‹æ‹‰èœå•ä¸­ Session åç§°å®Œæ•´æ˜¾ç¤º
5. å³ä¾§è¯¦æƒ…é¢æ¿é»˜è®¤éšè—

## éç›®æ ‡

- ä¸ä¿®æ”¹å·¥å…·èŠ‚ç‚¹æ ·å¼
- ä¸ä¿®æ”¹ Timeline é˜¶æ®µæµç¨‹
- ä¸å¢åŠ æ–°åŠŸèƒ½

## æŠ€æœ¯æ–¹æ¡ˆ

### 1. Session åˆ—è¡¨æ—¶é—´å€’åº

**æ–‡ä»¶**: `mockData.ts`

```typescript
// æŒ‰ created_at æ—¶é—´å€’åºæ’åˆ—ï¼ˆæœ€æ–°åœ¨å‰ï¼‰
sessionsList.sort((a, b) => {
  const sessionA = sessionsMap[a.session_id]
  const sessionB = sessionsMap[b.session_id]
  const timeA = sessionA?.created_at || a.session_id
  const timeB = sessionB?.created_at || b.session_id
  return timeB.localeCompare(timeA)
})
```

### 2. SessionBar ç´§å‡‘ä¸¤è¡Œå¸ƒå±€

**æ–°å¸ƒå±€è®¾è®¡**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ“‹ â–¼]  å¸ƒå±€é‡æ„ - SessionBar æ•´åˆ                                   â”‚
â”‚         claude-opus-4-5-20251101 Â· âœ“æˆåŠŸ Â· 13æ¬¡è°ƒç”¨ Â· 57min         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- é€‰æ‹©å™¨æŒ‰é’®ç²¾ç®€ï¼ˆåªæœ‰å›¾æ ‡å’Œç®­å¤´ï¼‰
- ç¬¬ä¸€è¡Œï¼šSession æ ‡é¢˜ï¼ˆå®Œæ•´æ˜¾ç¤ºï¼Œellipsis æˆªæ–­ï¼‰
- ç¬¬äºŒè¡Œï¼šæ¨¡å‹ + çŠ¶æ€ + ç»Ÿè®¡ï¼ˆ11px å°å­—ï¼‰

### 3. ä¸‹æ‹‰èœå•åç§°å®Œæ•´æ˜¾ç¤º

- ä¸‹æ‹‰èœå•å®½åº¦ 380px
- Session åç§°æ”¯æŒæ¢è¡Œï¼ˆ`word-break: break-word`ï¼‰
- ä¿ç•™çŠ¶æ€ç‚¹å’Œå›¢é˜Ÿå›¾æ ‡

### 4. å³ä¾§è¯¦æƒ…é¢æ¿é»˜è®¤éšè—

**æ–‡ä»¶**: `ToolDetailPanel.tsx`

```typescript
if (!toolCall) {
  return null  // é»˜è®¤éšè—
}
```

## æ–‡ä»¶å˜æ›´

| æ–‡ä»¶ | å˜æ›´ |
|------|------|
| `services/mockData.ts` | Session åˆ—è¡¨å€’åºæ’åˆ— |
| `Layout/SessionBar.tsx` | ä¸¤è¡Œç´§å‡‘å¸ƒå±€ |
| `Layout/SessionBar.css` | æ›´æ–°æ ·å¼ |
| `ToolDetailPanel/ToolDetailPanel.tsx` | é»˜è®¤éšè— |

## éªŒè¯

- TypeScript ç¼–è¯‘é€šè¿‡
- Vite æ„å»ºæˆåŠŸ
- Session æŒ‰æ—¶é—´å€’åºæ˜¾ç¤º
- æ ‡é¢˜å’Œå…ƒä¿¡æ¯ç´§å‡‘å¸ƒå±€
- è¯¦æƒ…é¢æ¿é»˜è®¤ä¸æ˜¾ç¤º

## å†³ç­–è®°å½•

| å†³ç­– | ç†ç”± | æ›¿ä»£æ–¹æ¡ˆ |
|------|------|----------|
| ä½¿ç”¨ created_at æ’åº | æ›´å¯é çš„æ—¶é—´å­—æ®µ | session_id å‰ç¼€ï¼ˆä¾èµ–å‘½åè§„èŒƒï¼‰ |
| ä¸¤è¡Œå¸ƒå±€ | ä¿¡æ¯ç´§å‡‘ï¼Œç©ºé—´åˆ©ç”¨ç‡é«˜ | å•è¡Œï¼ˆä¿¡æ¯æˆªæ–­ï¼‰|
| ä¸‹æ‹‰èœå•æ”¯æŒæ¢è¡Œ | å®Œæ•´æ˜¾ç¤ºåç§° | tooltip æ˜¾ç¤ºå…¨å |
| è¯¦æƒ…é¢æ¿è¿”å› null | å®Œå…¨éšè—ï¼Œä¸å ç©ºé—´ | 0 å®½åº¦åŠ¨ç”» |
