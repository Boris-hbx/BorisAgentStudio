# SPEC-001: 项目总览

> 作者: Boris Huai
> 起草日期: 2026-01-24
> 状态: 实施中

---

## 项目愿景

BorisAgentStudio 不是又一个 AI 聊天界面，也不是简单的日志查看器。

它是一个 **Code Agent 行为的可解释性工作台**：

- **观察**：完整记录 Agent 从需求到代码的每一步决策
- **解释**：将隐性的 Agent 思维过程显式化，回答"为什么这样做"
- **演进**：通过可视化反馈，优化 Agent 的领域知识和技能调用

---

## 核心问题

当前 Code Agent 面临的可解释性困境：

1. **黑盒执行**：用户只能看到最终代码，无法理解中间决策
2. **失败不可诊断**：Agent 失败时，无法定位是"不会"还是"不懂"
3. **知识不可演进**：无法量化领域知识对代码质量的影响

BorisAgentStudio 通过可视化解决这些问题。

---

## MVP 边界

### 必须实现（v0.1）

| 功能 | 描述 |
|------|------|
| 流程可视化 | 7 个核心步骤的状态展示与流转 |
| 步骤详情 | 点击步骤查看 input/output/context |
| 领域知识关联 | 展示每步调用的领域知识及匹配度 |
| 实时更新 | WebSocket 推送步骤状态变化 |
| Mock 数据 | 可加载示例 Session 进行演示 |

### 暂不实现（v0.1 范围外）

| 功能 | 原因 |
|------|------|
| 真实 Agent 接入 | 需先稳定可视化协议 |
| 多 Session 对比 | MVP 聚焦单 Session 理解 |
| 知识编辑 | MVP 只读，不修改 Agent 状态 |
| 用户认证 | 本地工具，暂无多用户需求 |
| 代码执行沙箱 | 安全模型需专项设计 |

---

## 非目标（Anti-Goals）

以下明确 **不是** 本项目的目标：

1. **不是通用 DAG 编辑器**
   - 流程节点固定为 7 个，不支持用户自定义
   - 我们展示 Agent 行为，不是让用户编排流程

2. **不是日志聚合平台**
   - 不做海量日志搜索和统计
   - 聚焦单次执行的因果链理解

3. **不是 Agent 运行时**
   - 不在本系统内执行 Agent
   - 只接收和展示执行数据

4. **不是 AI 训练数据标注工具**
   - 不收集用户反馈用于训练
   - 可视化目的是理解，不是标注

5. **不追求"漂亮"**
   - 可视化服务于认知，不是审美
   - 每个视觉元素必须有信息价值

---

## 核心流程语义

Code Agent 执行的 7 个不可变步骤：

```
需求输入 → 任务拆解 → 代码生成 → 环境执行 → 调试修复 → 结果验证 → 记忆沉淀
```

| 步骤 | 语义 | 可视化关注点 |
|------|------|-------------|
| 需求输入 | 用户原始需求 | 原文展示 |
| 任务拆解 | 需求分解为子任务 | 子任务列表 |
| 代码生成 | 调用技能生成代码 | 代码 + 技能来源 |
| 环境执行 | 在沙箱运行代码 | 执行结果/错误 |
| 调试修复 | 错误时的修复尝试 | 修复策略 + 领域知识 |
| 结果验证 | 验证输出是否符合需求 | 验证逻辑 |
| 记忆沉淀 | 将经验写入长期记忆 | 新增知识摘要 |

---

## 成功指标

MVP 成功的标准：

1. **可解释**：看完可视化后，能回答"Agent 为什么生成这段代码"
2. **可诊断**：Agent 失败时，能定位到具体步骤和原因
3. **可演示**：5 分钟内能向他人演示 Agent 执行的完整流程

---

## 技术约束

详见 CLAUDE.md 中的 Immutable Core 部分。

---

## 相关文档

- [CLAUDE.md](../../CLAUDE.md) - Agent 权限与工程规范
