# /refresh - 刷新项目核心文档

扫描整个工程，刷新 CLAUDE.md 和 README.md，确保文档与实际代码/资产保持同步。

## 触发场景

- 新增了 SPEC/RULE/STD/SKILL 文件
- 前端组件有增删
- 项目结构发生变化
- 定期同步（建议每周一次）

## 执行步骤

### 1. 资产盘点

扫描并统计以下内容：

```
工程文件:
- docs/specs/SPEC-*.md      → SPEC 文档数量
- rules/**/RULE-*.md        → 规则文件数量
- standards/**/STD-*.md     → 标准文件数量
- skills/**/SKILL-*.json    → 技能文件数量
- data/sessions/*.json      → Session 日志数量

前端组件:
- frontend/src/components/*/index.tsx  → 组件列表

后端模块:
- backend/src/*/mod.rs 或 *.rs  → 模块列表
```

### 2. CLAUDE.md 更新项

检查并更新以下部分：

**项目结构部分**：
- 前端组件列表是否与实际一致
- 后端模块列表是否与实际一致
- 目录结构是否反映当前状态

**文档规范引用**：
- STD 列表是否完整
- RULE 列表是否完整
- SPEC 最大序号是否正确

### 3. README.md 更新项

**文档链接部分**：
- 补充新增的核心 SPEC 链接
- 确保链接有效

**功能列表**：
- 更新已实现的功能模块
- 更新进度状态

**统计数据**：
- 更新文档数量统计

### 4. 输出报告

```
🔄 文档刷新完成
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 资产统计
┌────────────────┬────────┬──────────┐
│ 类型           │ 数量   │ 变化     │
├────────────────┼────────┼──────────┤
│ SPEC 文档      │ {n}    │ +{n}/-{n}│
│ 规则 (RULE)    │ {n}    │ +{n}/-{n}│
│ 标准 (STD)     │ {n}    │ +{n}/-{n}│
│ 技能 (SKILL)   │ {n}    │ +{n}/-{n}│
│ 前端组件       │ {n}    │ +{n}/-{n}│
│ Session 日志   │ {n}    │ +{n}/-{n}│
└────────────────┴────────┴──────────┘

📝 更新内容
- CLAUDE.md: {更新的部分列表}
- README.md: {更新的部分列表}

✅ 同步完成 | 📅 {当前日期}
```

## 注意事项

- 不修改 CLAUDE.md 的核心规范部分（需人类批准）
- 只更新统计数据和结构描述
- 发现不一致时先报告，等待确认后再修改
- 保持文档格式风格一致
